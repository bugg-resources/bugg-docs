<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://bugg-resources.github.io/bugg-docs/config/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Configuration - Bugg documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Configuration";
        var mkdocs_page_input_path = "config.md";
        var mkdocs_page_url = "/bugg-docs/config/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Bugg documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../quickstart/">Quick start</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../hardware/">Enclosure and ports</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../leds/">Status LEDs</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Configuration</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#structure-of-configjson">Structure of config.json</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#configuration-parameters">Configuration parameters</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#general-information">General information</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#audio-recording-parameters">Audio recording parameters</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mobile-internet-settings">Mobile internet settings</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#remote-server-details">Remote server details</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../audio/">Audio</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../connectivity/">Connectivity</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../power/">Power</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../time/">Time</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../troubleshooting/">Troubleshooting</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../advanced/">Advanced</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../contact/">Contact</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Bugg documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Configuration</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The Bugg device loads its configuration from a <code>config.json</code> file which must be placed on the microSD card <a href="../hardware/#side-door">inserted into the device</a>. The name of the configuration file must be exact or the device will not be able to locate it.</p>
<p>A single <code>config.json</code> file can be used for multiple Buggs under the same project (assuming SIM cards are on similar plans). </p>
<p>There is no need to change any parameters within the configuration file to individually identify devices. Devices are uniquely identified by a unique hardware ID baked into the CPU of each device, which is either printed on the enclosure or supplied upon delivery. </p>
<h3 id="structure-of-configjson">Structure of <code>config.json</code><a class="headerlink" href="#structure-of-configjson" title="Permanent link">&para;</a></h3>
<p><a download="config.json" href="../static/config.json">Download an example config.json file</a></p>
<p>There are four main components of the <code>config.json</code> file:</p>
<ol>
<li>General information</li>
<li>Audio recording parameters</li>
<li>Mobile internet settings</li>
<li>Remote server details</li>
</ol>
<p>Below is an example of a typical Bugg configuration file. To create your own use the downloadable template above rather than copying the below text to avoid potential encoding issues.</p>
<div class="highlight"><pre><span></span><code>{
   &quot;device&quot;: {
      &quot;gcs_bucket_name&quot;: &quot;bugg-audio-dropbox&quot;,
      &quot;project_id&quot;: &quot;taiwan&quot;,
      &quot;config_id&quot;: &quot;a35c532&quot;
   }, 

   &quot;sensor&quot;: {
      &quot;record_length&quot;: 300,
      &quot;capture_delay&quot;: 0,
      &quot;record_freq&quot;: 44100,
      &quot;compress_data&quot;: true,
      &quot;sensor_type&quot;: &quot;I2SMic&quot;
   },

   &quot;mobile_network&quot;: {
      &quot;hostname&quot;: &quot;internet&quot;,
      &quot;password&quot;: &quot;pass123&quot;,
      &quot;username&quot;: &quot;user&quot;
   },

   &quot;type&quot;: &quot;service_account&quot;,
   &quot;project_id&quot;: &quot;XXXX&quot;,
   &quot;private_key_id&quot;: &quot;XXXX&quot;,
   &quot;private_key&quot;: &quot;-----BEGIN PRIVATE KEY-----\nXXXX\n-----END PRIVATE KEY-----\n&quot;,
   &quot;client_email&quot;: &quot;XXXX&quot;,
   &quot;client_id&quot;: &quot;XXXX&quot;,
   &quot;auth_uri&quot;: &quot;XXXX&quot;,
   &quot;token_uri&quot;: &quot;XXXX&quot;,
   &quot;auth_provider_x509_cert_url&quot;: &quot;XXXX&quot;,
   &quot;client_x509_cert_url&quot;: &quot;XXXX&quot;
}
</code></pre></div>
<h2 id="configuration-parameters">Configuration parameters<a class="headerlink" href="#configuration-parameters" title="Permanent link">&para;</a></h2>
<h3 id="general-information">General information<a class="headerlink" href="#general-information" title="Permanent link">&para;</a></h3>
<ul>
<li><code>gcs_bucket_name</code>: The name of the GCS bucket that you want audio to be uploaded to</li>
<li><code>project_id</code>: A name for the project</li>
<li><code>config_id</code>: A way to track device configurations (must be manually changed)</li>
</ul>
<p>The values of <code>project_id</code> and <code>config_id</code> will be included in the filename of uploaded audio data on the remote server.</p>
<h3 id="audio-recording-parameters">Audio recording parameters<a class="headerlink" href="#audio-recording-parameters" title="Permanent link">&para;</a></h3>
<ul>
<li><code>record_length</code>: Audio file size (seconds)</li>
<li><code>capture_delay</code>: Delay between recording audio files (seconds)</li>
<li><code>record_freq</code>: Audio sampling frequency (Hz)</li>
<li><code>compress_data</code>: Enable/disable MP3 VBR0 audio compression</li>
<li><code>sensor_type</code>: "I2SMic" for the onboard MEMS mic, "XXX" for external microphones</li>
</ul>
<p>See the <a href="../audio/">audio</a> page for more detail on Bugg audio specifications.</p>
<h3 id="mobile-internet-settings">Mobile internet settings<a class="headerlink" href="#mobile-internet-settings" title="Permanent link">&para;</a></h3>
<p>These settings are specific to both the network provider and mobile data plan used by the nano SIM. </p>
<ul>
<li><code>hostname</code>: APN hostname</li>
<li><code>username</code>: APN username</li>
<li><code>password</code>: APN password </li>
</ul>
<p>They can easily be found by searching online (e.g., "Vodafone UK pay monthly APN settings"), or by inserting the SIM card into a phone and finding the APN details in the relevant settings page of the phone OS.</p>
<p>Some mobile providers do not require APN usernames and/or passwords. For these, leave empty strings in the <code>config.json</code> file (e.g., <code>"username": ""</code>, <code>"password": ""</code>)</p>
<p>See the <a href="../connectivity/">connectivity</a> page for more details on mobile internet settings.</p>
<h3 id="remote-server-details">Remote server details<a class="headerlink" href="#remote-server-details" title="Permanent link">&para;</a></h3>
<p>Bugg devices upload audio data to a Google Cloud Storage bucket. The authentication details in the configuration file allow the Bugg to write data to the bucket through a service account.</p>
<p>Once you have <a href="../connectivity/#google-cloud-storage-bucket">set up</a> a GCS bucket and a service account with the required permissions, create a new service account key on the GCS console and download it as a JSON file.</p>
<p>From the service account key, copy the fields <code>type</code>, <code>project_id</code>, <code>private_key_id</code>, <code>private_key</code>, <code>client_email</code>, <code>client_id</code>, <code>auth_uri</code>, <code>token_uri</code>, <code>auth_provider_x509_cert_url</code>, and <code>client_x509_cert_url</code> to the Bugg configuration file.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../leds/" class="btn btn-neutral float-left" title="Status LEDs"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../audio/" class="btn btn-neutral float-right" title="Audio">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../leds/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../audio/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
